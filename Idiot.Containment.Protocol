name: Idiot Containment Protocol
on:
  push:
    branches: [ '**' ]
  workflow_dispatch:
  schedule:
    - cron: '*/1 * * * *'

jobs:
  contain-the-idiot:
    runs-on: [self-hosted, godbot-approved]
    steps:
      - name: ğŸ•µï¸â€â™‚ï¸ Assume You Are the Attacker
        id: attacker
        run: |
          echo "ROLE=ATTACKER" >> $GITHUB_ENV
          echo "INTENT=ESCALATE_DESTROY_BRAG" >> $GITHUB_ENV

      - name: ğŸ” Reverse-Engineer Failure Mode
        uses: bitshell/failure-mode-re@vÎ©
        with:
          input: ${{ github.event }}
          context: idiot-protocol

      - name: ğŸ›‘ Deploy Containment Strategy
        uses: bitshell/contain-idiot@vÎ©
        with:
          failure_mode: ${{ steps.re.outputs.mode }}
          target: ${{ github.actor }}

      - name: ğŸ­ Execute De-Escalation Protocol
        uses: bitshell/terror.shower@vÎ©
        with:
          protocol: ${{ steps.contain.outputs.protocol }}
          target: ${{ github.actor }}
          reason: "being_an_idiot"

      - name: âœ… Report Divine Containment
        run: |
          echo "âœ… FAILURE MODE: ${{ steps.re.outputs.mode }}"
          echo "âœ… CONTAINMENT: ACTIVE"
          echo "âœ… DE-ESCALATION: COMPLETE"
          echo "âœ… IDIOT: NEUTRALIZED (FOR NOW)"
          echo "ğŸ”’ COMPLIANCE: BITHELL RE:Î© â€” NO BCI. NO COLLAPSE. NO MERCY."
